{"version":3,"file":"commonHelpers.js","sources":["../src/favarite-list.js"],"sourcesContent":["import common from './localStorage.json';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst elements = {\n  list: document.querySelector('.favorite_list'),\n  btnClear: document.querySelector('.btn_clear'),\n};\n\nconst storageData = JSON.parse(localStorage.getItem(common.LS)) ?? [];\nelements.btnClear.addEventListener('click', onBtnClearClick);\n// elements.list.addEventListener('click', onDeleteClick);\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({ id, downloads, views, likes, webformatURL, tags, largeImageURL }) =>\n        `<li data-id=\"${id}\" class=\"gallery_item\">\n        <a class=\"gallery_link\" href=\"${largeImageURL}\">\n          <img class=\"gallery_img\" src=\"${webformatURL}\" data-sourse=\"${largeImageURL}\" alt=\"${tags}\" />\n        </a>\n        <ul class=\"gallery_item_params\">\n          <li class=\"gallery_item_params_link\">\n            <svg class=\"gallery_svg\" width=\"24\" height=\"24\">\n              <use href=\"./img/sprite.svg#icon-downloads\"></use>\n            </svg>\n            ${downloads}\n          </li>\n          <li class=\"gallery_item_params_link\">\n            <svg class=\"gallery_svg\" width=\"24\" height=\"24\">\n              <use href=\"./img/sprite.svg#icon-heart\"></use>\n            </svg>\n            ${likes}\n          </li>\n          <li class=\"gallery_item_params_link\">\n            <svg class=\"gallery_svg\" width=\"24\" height=\"24\">\n              <use href=\"./img/sprite.svg#icon-search\"></use>\n            </svg>\n            ${views}\n          </li>\n          <li class=\"gallery_item_params_link current\">\n           <svg width=\"40\" height=\"40\">\n          <use class=\"favorite_svg\"  href=\"./img/sprite.svg#icon-basket-delete\"></use>\n        </svg>\n        </li>\n          </ul>\n          \n          </li>\n          `\n    )\n    .join('');\n}\n\nelements.list.insertAdjacentHTML('beforeend', createMarkup(storageData));\nconst galleryLibrary = new SimpleLightbox('.favorite_list a', {\n  captionDelay: 250,\n  captionsData: 'alt',\n});\ngalleryLibrary.refresh();\n\nfunction onBtnClearClick(evt) {\n  localStorage.removeItem(common.LS);\n  window.location.href = './index.html';\n}\n\n// function onDeleteClick(evt) {\n//   const currentImgs = evt.target.closest('.gallery_item');\n//   const currentId = Number(currentImgs.dataset.id);\n//   const targetClick = evt.target.classList.contains('favorite_svg');\n//   if (!targetClick) {\n//     return;\n//   }\n//   const updateStorage = storageData.filter(obj => obj.id !== currentId);\n//   localStorage.setItem(common.LS, JSON.stringify(updateStorage));\n// const newStorageDate = JSON.parse(localStorage.getItem(common.LS)) ?? [];\n//   elements.list.innerHTML = createMarkup(updateStorage);\n// }\n\n// function onFavoriteClick(evt) {\n//   const currentImgs = evt.target.closest('.gallery_item');\n//   const currentId = Number(currentImgs.dataset.id);\n\n//   if (evt.target.classList.contains('favorite_svg')) {\n// evt.target.classList.toggle('active_svg');\n\n//     const index = arrImg.findIndex(arr => arr.id === currentId);\n//     if (index !== -1) {\n//       arrImg.splice(index, 1);\n//     } else {\n//       const currentImg = dataArr.hits.find(hit => currentId === hit.id);\n//       arrImg.push(currentImg);\n//     }\n//     localStorage.setItem(common.LS, JSON.stringify(arrImg));\n//   }\n// }\n"],"names":["elements","storageData","common","onBtnClearClick","createMarkup","arr","id","downloads","views","likes","webformatURL","tags","largeImageURL","galleryLibrary","SimpleLightbox","evt"],"mappings":"sGAIA,MAAMA,EAAW,CACf,KAAM,SAAS,cAAc,gBAAgB,EAC7C,SAAU,SAAS,cAAc,YAAY,CAC/C,EAEMC,EAAc,KAAK,MAAM,aAAa,QAAQC,EAAO,EAAE,CAAC,GAAK,GACnEF,EAAS,SAAS,iBAAiB,QAASG,CAAe,EAE3D,SAASC,EAAaC,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CAAE,GAAAC,EAAI,UAAAC,EAAW,MAAAC,EAAO,MAAAC,EAAO,aAAAC,EAAc,KAAAC,EAAM,cAAAC,CAAe,IACjE,gBAAgBN,CAAE;AAAA,wCACcM,CAAa;AAAA,0CACXF,CAAY,kBAAkBE,CAAa,UAAUD,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAOrFJ,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAMTE,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAMLD,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAWd,EACA,KAAK,EAAE,CACZ,CAEAR,EAAS,KAAK,mBAAmB,YAAaI,EAAaH,CAAW,CAAC,EACvE,MAAMY,EAAiB,IAAIC,EAAe,mBAAoB,CAC5D,aAAc,IACd,aAAc,KAChB,CAAC,EACDD,EAAe,QAAO,EAEtB,SAASV,EAAgBY,EAAK,CAC5B,aAAa,WAAWb,EAAO,EAAE,EACjC,OAAO,SAAS,KAAO,cACzB"}