{"version":3,"file":"commonHelpers2.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport common from './localStorage.json';\n// body\nconst bodyEl = document.querySelector('body');\nconst themeEl = document.querySelector('.btn-theme');\nthemeEl.addEventListener('click', onThemeClick);\nfunction onThemeClick() {\n  bodyEl.classList.toggle('theme');\n}\n\n// #region timer-order section\nlet intervalId = null;\nconst daysEl = document.querySelector('[data-days]');\nconst hoursEl = document.querySelector('[data-hours]');\nconst minutesEl = document.querySelector('[data-minutes]');\nconst secondsEl = document.querySelector('[data-seconds]');\n\nfunction startTimer() {\n  intervalId = setInterval(updateTimer, 1000);\n}\n\nfunction updateTimer() {\n  const userSelectedDate = new Date(2024, 3, 31, 2, 49, 0);\n  const currentDate = new Date();\n  const differenceTime = userSelectedDate - currentDate;\n  if (differenceTime <= 0) {\n    clearInterval(intervalId);\n    return;\n  }\n  const { days, hours, minutes, seconds } = convertMs(differenceTime);\n  daysEl.textContent = addLeadingZero(days);\n  minutesEl.textContent = addLeadingZero(minutes);\n  hoursEl.textContent = addLeadingZero(hours);\n  secondsEl.textContent = addLeadingZero(seconds);\n}\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(value) {\n  return String(value).padStart(2, '0');\n}\n\nstartTimer();\n// #endregion\n\n// #region  pixabay gallery\n\nconst elements = {\n  searcForm: document.querySelector('#present_form'),\n  list: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\nlet searchInput;\nlet dataArr;\nconst arrStorage = JSON.parse(localStorage.getItem(common.FS)) ?? [];\nconst arrImg = JSON.parse(localStorage.getItem(common.LS)) ?? [];\ndocument.addEventListener('DOMContentLoaded', onStorageLoader);\nhideLoader();\nelements.searcForm.addEventListener('submit', onSearchForm);\nelements.list.addEventListener('click', onFavoriteClick);\nfunction onStorageLoader() {\n  if (arrImg) {\n    elements.list.insertAdjacentHTML('beforeend', createMarkup(arrStorage));\n  }\n  // onFavoriteClick();\n}\n\nfunction hideLoader() {\n  elements.loader.style.display = 'none';\n}\n\nfunction showLoader() {\n  elements.loader.style.display = 'block';\n}\n\nfunction onSearchForm(e) {\n  e.preventDefault();\n  searchInput = e.currentTarget.elements.fieldSearch;\n  showLoader();\n  setTimeout(() => {\n    servicePixabay(searchInput.value)\n      .then(data => {\n        dataArr = data;\n        if (!data.hits.length) {\n          iziToast.show({\n            title: 'Error',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topCenter',\n            backgroundColor: 'rgba(252, 249, 249, 1)',\n            messageColor: '#000',\n            zindex: '10000000',\n          });\n        }\n        localStorage.setItem(common.FS, JSON.stringify(data.hits));\n        elements.list.innerHTML = createMarkup(data.hits);\n        const galleryLibrary = new SimpleLightbox('.gallery a', {\n          captionDelay: 250,\n          captionsData: 'alt',\n        });\n        galleryLibrary.refresh();\n      })\n      .catch(err => console.log(err))\n      .finally(() => {\n        hideLoader();\n        e.target.reset();\n      });\n  }, 2000);\n}\n\nfunction servicePixabay(word) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '42170319-af092c1d236dd53a733e41db9';\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: word,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${params}`).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n// вышиванка\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({ id, downloads, views, likes, webformatURL, tags, largeImageURL }) =>\n        `<li data-id=\"${id}\" class=\"gallery_item\">\n        <a class=\"gallery_link\" href=\"${largeImageURL}\">\n          <img class=\"gallery_img\" src=\"${webformatURL}\" data-sourse=\"${largeImageURL}\" alt=\"${tags}\" />\n        </a>\n        <ul class=\"gallery_item_params\">\n          <li class=\"gallery_item_params_link\">\n            <svg class=\"gallery_svg\" width=\"24\" height=\"24\">\n              <use href=\"./img/sprite.svg#icon-downloads\"></use>\n            </svg>\n            ${downloads}\n          </li>\n          <li class=\"gallery_item_params_link\">\n            <svg class=\"gallery_svg\" width=\"24\" height=\"24\">\n              <use href=\"./img/sprite.svg#icon-heart\"></use>\n            </svg>\n            ${likes}\n          </li>\n          <li class=\"gallery_item_params_link\">\n            <svg class=\"gallery_svg\" width=\"24\" height=\"24\">\n              <use href=\"./img/sprite.svg#icon-search\"></use>\n            </svg>\n            ${views}\n          </li>\n          <li class=\"gallery_item_params_link current\">\n           <svg width=\"40\" height=\"40\">\n          <use class=\"favorite_svg\"  href=\"./img/sprite.svg#icon-star-solid\"></use>\n        </svg>\n        </li>\n          </ul>\n          \n          </li>\n          `\n    )\n    .join('');\n}\n\nfunction onFavoriteClick(evt) {\n  const currentImgs = evt.target.closest('.gallery_item');\n  const currentId = Number(currentImgs.dataset.id);\n\n  if (evt.target.classList.contains('favorite_svg')) {\n    evt.target.classList.toggle('active_svg');\n\n    const index = arrImg.findIndex(arr => arr.id === currentId);\n    if (index !== -1) {\n      arrImg.splice(index, 1);\n    } else {\n      const currentImg = dataArr.hits.find(hit => currentId === hit.id);\n      arrImg.push(currentImg);\n    }\n    localStorage.setItem(common.LS, JSON.stringify(arrImg));\n  }\n}\n//#endregion\n\nconst bannerEl = document.querySelector('.banner');\nconst textEl = document.querySelector('.banner_text');\n\nlet counter = 10;\n\nconst id = setInterval(() => {\n  counter -= 1;\n  textEl.textContent = `Залишилося ${counter} секунд`;\n  if (!counter) {\n    bannerEl.style.display = 'none';\n  }\n}, 1000);\n\nfunction createTriangleRow(height, width) {\n  let triangle = '';\n  for (let i = 0; i < height; i++) {\n    let row = '';\n    for (let j = 0; j < width; j++) {\n      if (j === Math.floor(width / 2)) {\n        row += '#';\n      } else {\n        row += '.';\n      }\n    }\n    triangle += row + '\\n'; // Додати поточний рядок до змінної 'triangle'\n  }\n  return triangle;\n}\n\n// Приклад використання:\nconst triangle = createTriangleRow(7, 11);\nconsole.log(triangle);\n\n// console.log(createTriangleRow(11));\n// const t = createTriangleRow(11).split('').slice(1, -1).console.log(t);\n\n// function generateTriangle(height) {\n//   let triangle = '';\n//   for (let i = 0; i < height; i++) {\n//     let row = '';\n//     // Додаємо прогалини перед трикутником\n//     for (let j = 0; j < height - i - 1; j++) {\n//       row += '.';\n//     }\n//     // Додаємо символи #\n//     for (let k = 0; k < 2 * i + 1; k++) {\n//       row += '#';\n//     }\n//     // Додаємо рядок до трикутника\n//     triangle += row + '\\n';\n//   }\n//   return triangle;\n// }\n\n// const height = 7; // Висота трикутника\n// const triangle = generateTriangle(height);\n// console.log(triangle);\n"],"names":["bodyEl","themeEl","onThemeClick","intervalId","daysEl","hoursEl","minutesEl","secondsEl","startTimer","updateTimer","differenceTime","days","hours","minutes","seconds","convertMs","addLeadingZero","ms","value","elements","searchInput","dataArr","arrStorage","common","arrImg","onStorageLoader","hideLoader","onSearchForm","onFavoriteClick","createMarkup","showLoader","servicePixabay","data","iziToast","SimpleLightbox","err","word","BASE_URL","API_KEY","params","resp","arr","id","downloads","views","likes","webformatURL","tags","largeImageURL","evt","currentImgs","currentId","index","currentImg","hit","bannerEl","textEl","counter","createTriangleRow","height","width","triangle","i","row","j"],"mappings":"6GAOA,MAAMA,EAAS,SAAS,cAAc,MAAM,EACtCC,EAAU,SAAS,cAAc,YAAY,EACnDA,EAAQ,iBAAiB,QAASC,CAAY,EAC9C,SAASA,GAAe,CACtBF,EAAO,UAAU,OAAO,OAAO,CACjC,CAGA,IAAIG,EAAa,KACjB,MAAMC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAU,SAAS,cAAc,cAAc,EAC/CC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAY,SAAS,cAAc,gBAAgB,EAEzD,SAASC,GAAa,CACpBL,EAAa,YAAYM,EAAa,GAAI,CAC5C,CAEA,SAASA,GAAc,CAGrB,MAAMC,EAFmB,IAAI,KAAK,KAAM,EAAG,GAAI,EAAG,GAAI,CAAC,EACnC,IAAI,KAExB,GAAIA,GAAkB,EAAG,CACvB,cAAcP,CAAU,EACxB,MACD,CACD,KAAM,CAAE,KAAAQ,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAc,EAClEN,EAAO,YAAcY,EAAeL,CAAI,EACxCL,EAAU,YAAcU,EAAeH,CAAO,EAC9CR,EAAQ,YAAcW,EAAeJ,CAAK,EAC1CL,EAAU,YAAcS,EAAeF,CAAO,CAChD,CAEA,SAASC,EAAUE,EAAI,CAQrB,MAAMN,EAAO,KAAK,MAAMM,EAAK,KAAG,EAE1BL,EAAQ,KAAK,MAAOK,EAAK,MAAO,IAAI,EAEpCJ,EAAU,KAAK,MAAQI,EAAK,MAAO,KAAQ,GAAM,EAEjDH,EAAU,KAAK,MAASG,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAN,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASE,EAAeE,EAAO,CAC7B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC,CAEAV,IAKA,MAAMW,EAAW,CACf,UAAW,SAAS,cAAc,eAAe,EACjD,KAAM,SAAS,cAAc,UAAU,EACvC,OAAQ,SAAS,cAAc,SAAS,CAC1C,EACA,IAAIC,EACAC,EACJ,MAAMC,EAAa,KAAK,MAAM,aAAa,QAAQC,EAAO,EAAE,CAAC,GAAK,GAC5DC,EAAS,KAAK,MAAM,aAAa,QAAQD,EAAO,EAAE,CAAC,GAAK,GAC9D,SAAS,iBAAiB,mBAAoBE,CAAe,EAC7DC,IACAP,EAAS,UAAU,iBAAiB,SAAUQ,CAAY,EAC1DR,EAAS,KAAK,iBAAiB,QAASS,CAAe,EACvD,SAASH,GAAkB,CACrBD,GACFL,EAAS,KAAK,mBAAmB,YAAaU,EAAaP,CAAU,CAAC,CAG1E,CAEA,SAASI,GAAa,CACpBP,EAAS,OAAO,MAAM,QAAU,MAClC,CAEA,SAASW,GAAa,CACpBX,EAAS,OAAO,MAAM,QAAU,OAClC,CAEA,SAASQ,EAAa,EAAG,CACvB,EAAE,eAAc,EAChBP,EAAc,EAAE,cAAc,SAAS,YACvCU,IACA,WAAW,IAAM,CACfC,EAAeX,EAAY,KAAK,EAC7B,KAAKY,GAAQ,CACZX,EAAUW,EACLA,EAAK,KAAK,QACbC,EAAS,KAAK,CACZ,MAAO,QACP,QACE,2EACF,SAAU,YACV,gBAAiB,yBACjB,aAAc,OACd,OAAQ,UACpB,CAAW,EAEH,aAAa,QAAQV,EAAO,GAAI,KAAK,UAAUS,EAAK,IAAI,CAAC,EACzDb,EAAS,KAAK,UAAYU,EAAaG,EAAK,IAAI,EACzB,IAAIE,EAAe,aAAc,CACtD,aAAc,IACd,aAAc,KACxB,CAAS,EACc,QAAO,CAC9B,CAAO,EACA,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,EAC7B,QAAQ,IAAM,CACbT,IACA,EAAE,OAAO,OACjB,CAAO,CACJ,EAAE,GAAI,CACT,CAEA,SAASK,EAAeK,EAAM,CAC5B,MAAMC,EAAW,2BACXC,EAAU,qCACVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGC,CAAQ,IAAIE,CAAM,EAAE,EAAE,KAAKC,GAAQ,CACjD,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,UAAU,EAEjC,OAAOA,EAAK,MAChB,CAAG,CACH,CAEA,SAASX,EAAaY,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CAAE,GAAAC,EAAI,UAAAC,EAAW,MAAAC,EAAO,MAAAC,EAAO,aAAAC,EAAc,KAAAC,EAAM,cAAAC,CAAe,IACjE,gBAAgBN,CAAE;AAAA,wCACcM,CAAa;AAAA,0CACXF,CAAY,kBAAkBE,CAAa,UAAUD,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAOrFJ,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAMTE,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAMLD,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAWd,EACA,KAAK,EAAE,CACZ,CAEA,SAAShB,EAAgBqB,EAAK,CAC5B,MAAMC,EAAcD,EAAI,OAAO,QAAQ,eAAe,EAChDE,EAAY,OAAOD,EAAY,QAAQ,EAAE,EAE/C,GAAID,EAAI,OAAO,UAAU,SAAS,cAAc,EAAG,CACjDA,EAAI,OAAO,UAAU,OAAO,YAAY,EAExC,MAAMG,EAAQ5B,EAAO,UAAUiB,GAAOA,EAAI,KAAOU,CAAS,EAC1D,GAAIC,IAAU,GACZ5B,EAAO,OAAO4B,EAAO,CAAC,MACjB,CACL,MAAMC,EAAahC,EAAQ,KAAK,KAAKiC,GAAOH,IAAcG,EAAI,EAAE,EAChE9B,EAAO,KAAK6B,CAAU,CACvB,CACD,aAAa,QAAQ9B,EAAO,GAAI,KAAK,UAAUC,CAAM,CAAC,CACvD,CACH,CAGA,MAAM+B,EAAW,SAAS,cAAc,SAAS,EAC3CC,EAAS,SAAS,cAAc,cAAc,EAEpD,IAAIC,EAAU,GAEH,YAAY,IAAM,CAC3BA,GAAW,EACXD,EAAO,YAAc,cAAcC,CAAO,UACrCA,IACHF,EAAS,MAAM,QAAU,OAE7B,EAAG,GAAI,EAEP,SAASG,EAAkBC,EAAQC,EAAO,CACxC,IAAIC,EAAW,GACf,QAASC,EAAI,EAAGA,EAAIH,EAAQG,IAAK,CAC/B,IAAIC,EAAM,GACV,QAASC,EAAI,EAAGA,EAAIJ,EAAOI,IACrBA,IAAM,KAAK,MAAMJ,EAAQ,CAAC,EAC5BG,GAAO,IAEPA,GAAO,IAGXF,GAAYE,EAAM;AAAA,CACnB,CACD,OAAOF,CACT,CAGA,MAAMA,EAAWH,EAAkB,EAAG,EAAE,EACxC,QAAQ,IAAIG,CAAQ"}